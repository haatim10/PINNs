# Configuration for Time-Fractional Integro-Differential Equation
#
# PDE: D_t^α u - (x²+1) u_xx + ∫₀ᵗ sin(x)(t-s)^{-β} u(x,s) ds = f(x,t)
#
# Domain: x ∈ [0,1], t ∈ (0,1]
# BC: u(0,t) = t^α, u(1,t) = -t^α
# IC: u(x,0) = 0
# Exact solution: u(x,t) = t^α cos(πx)

problem:
  type: integro_differential
  alpha: 0.5          # Fractional derivative order
  beta: 0.5           # Integral kernel singularity
  x_min: 0.0
  x_max: 1.0
  t_max: 1.0
  mesh_grading: 2.0   # β for graded mesh: t_n = (n/N)^β

discretization:
  N_x: 50             # Spatial grid points
  N_t: 50             # Temporal grid points (keep small - L1 scheme is O(N²))
  N_collocation: 50   # Collocation points per batch
  N_boundary: 50      # Boundary points per batch
  N_initial: 50       # Initial condition points per batch
  N_integral_quad: 15 # Quadrature points for integral approximation

network:
  input_dim: 2
  output_dim: 1
  hidden_layers: [64, 64, 64, 64]
  activation: mexican_hat

training:
  epochs: 10000
  learning_rate: 0.001
  scheduler:
    enabled: true
    type: cosine_warmup
    warmup_epochs: 500
    min_lr: 0.00001
  lbfgs:
    enabled: false    # Disabled - using Adam only
    epochs: 0
    lr: 1.0
    max_iter: 20
    history_size: 50
  weights:
    pde: 1.0
    bc: 20.0
    ic: 20.0

logging:
  eval_interval: 500
  checkpoint_interval: 500
  track_points: true
  points_file: outputs/integro_diff_points.csv
  track_l1_points: true
  l1_points_file: outputs/l1_discretization_points.csv

paths:
  checkpoint_dir: outputs/checkpoints_integro_diff
  results_dir: outputs/integro_diff_results
